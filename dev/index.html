<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Manage Google Drive files from R.">
<title>An Interface to Google Drive • googledrive</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="deps/Source_Sans_Pro-0.4.3/font.css" rel="stylesheet">
<link href="deps/Source_Code_Pro-0.4.3/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="An Interface to Google Drive">
<meta property="og:description" content="Manage Google Drive files from R.">
<meta property="og:image" content="https://googledrive.tidyverse.org/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="googledrive.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">googledrive</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/googledrive.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/file-identification.html">File Identification</a>
    <a class="dropdown-item" href="articles/multiple-files.html">Dealing with multiple files</a>
    <a class="dropdown-item" href="articles/permissions.html">File permissions</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Package configuration</h6>
    <a class="dropdown-item" href="articles/bring-your-own-app.html">Bring your own OAuth app or API key</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2021/07/googledrive-2-0-0/">Version 2.0.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2019/08/googledrive-1-0-0/">Version 1.0.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidyverse/googledrive/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="googledrive">googledrive<a class="anchor" aria-label="anchor" href="#googledrive"></a>
</h1>
</div>
<!-- badges: start -->

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>googledrive allows you to interact with files on Google Drive from R.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"googledrive"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="load-googledrive">Load googledrive<a class="anchor" aria-label="anchor" href="#load-googledrive"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://googledrive.tidyverse.org">"googledrive"</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="package-conventions">Package conventions<a class="anchor" aria-label="anchor" href="#package-conventions"></a>
</h3>
<ul>
<li>Most functions begin with the prefix <code>drive_</code>. Auto-completion is your friend.</li>
<li>Goal is to allow Drive access that feels similar to Unix file system utilities, e.g., <code>find</code>, <code>ls</code>, <code>mv</code>, <code>cp</code>, <code>mkdir</code>, and <code>rm</code>.</li>
<li>The metadata for one or more Drive files is held in a <code>dribble</code>, a “Drive tibble”. This is a data frame with one row per file. A dribble is returned (and accepted) by almost every function in googledrive. Design goals:
<ul>
<li>Give humans what they want: the file name</li>
<li>Track what the API wants: the file ID</li>
<li>Hold on to all the other metadata sent back by the API</li>
</ul>
</li>
<li>googledrive is “pipe-friendly” and, in fact, re-exports <code>%&gt;%</code>, but does not require its use.</li>
</ul>
</div>
<div class="section level3">
<h3 id="quick-demo">Quick demo<a class="anchor" aria-label="anchor" href="#quick-demo"></a>
</h3>
<p>Here’s how to list up to <code>n_max</code> of the files you see in <a href="https://drive.google.com" class="external-link">My Drive</a>. You can expect to be sent to your browser here, to authenticate yourself and authorize the googledrive package to deal on your behalf with Google Drive.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/drive_find.html">drive_find</a></span><span class="op">(</span>n_max <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A dribble: 30 × 3</span></span>
<span><span class="co">#&gt;    name                       id                                drive_resource  </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                      &lt;drv_id&gt;                          &lt;list&gt;          </span></span>
<span><span class="co">#&gt;  1 2021-09-16_r_logo.jpg      1dandXB0QZpjeGQq_56wTXKNwaqgsOa9D &lt;named list [41…</span></span>
<span><span class="co">#&gt;  2 2021-09-16_r_about.html    1XfCI_orH4oNUZh06C4w6vXtno-BT_zmZ &lt;named list [40…</span></span>
<span><span class="co">#&gt;  3 2021-09-16_imdb_latin1.csv 163YPvqYmGuqQiEwEFLg2s1URq4EnpkBw &lt;named list [39…</span></span>
<span><span class="co">#&gt;  4 2021-09-16_chicken.txt     1axJz8GSmecSnaYBx0Sb3Gb-SXVaTzKw7 &lt;named list [40…</span></span>
<span><span class="co">#&gt;  5 2021-09-16_chicken.pdf     14Hd6_VQAeEgcwBBJamc-FUlnXhp117T2 &lt;named list [40…</span></span>
<span><span class="co">#&gt;  6 2021-09-16_chicken.jpg     1aslW1T-B8UKzAEotDWpmRFaMyMux5-it &lt;named list [41…</span></span>
<span><span class="co">#&gt;  7 2021-09-16_chicken.csv     1Mj--zJYZJSMKsNVjk2tYFef5LnCsNoDT &lt;named list [39…</span></span>
<span><span class="co">#&gt;  8 pqr                        143iq-CswFTwJTjVfKkcFMDW0jYqDeUj2 &lt;named list [34…</span></span>
<span><span class="co">#&gt;  9 mno                        1gcUTnFbsF6uioJrLCsVQ78_F1wEzyNtI &lt;named list [33…</span></span>
<span><span class="co">#&gt; 10 jkl                        17T40phn99w0hY-B_Ev0deTvVg9fmUSnt &lt;named list [33…</span></span>
<span><span class="co">#&gt; # … with 20 more rows</span></span></code></pre></div>
<p>You can narrow the query by specifying a <code>pattern</code> you’d like to match names against. Or by specifying a file type: the <code>type</code> argument understands MIME types, file extensions, and a few human-friendly keywords.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/drive_find.html">drive_find</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"chicken"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/drive_find.html">drive_find</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"spreadsheet"</span><span class="op">)</span>     <span class="co">## Google Sheets!</span></span>
<span><span class="fu"><a href="reference/drive_find.html">drive_find</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"csv"</span><span class="op">)</span>             <span class="co">## MIME type = "text/csv"</span></span>
<span><span class="fu"><a href="reference/drive_find.html">drive_find</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"application/pdf"</span><span class="op">)</span> <span class="co">## MIME type = "application/pdf"</span></span></code></pre></div>
<p>Alternatively, you can refine the search using the <code>q</code> query parameter. Accepted search clauses can be found in the <a href="https://developers.google.com/drive/v3/web/search-parameters" class="external-link">Google Drive API documentation</a>. For example, to see all files that you’ve starred and that are readable by “anyone with a link”, do this:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/drive_find.html">drive_find</a></span><span class="op">(</span>q <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"starred = true"</span>, <span class="st">"visibility = 'anyoneWithLink'"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A dribble: 2 × 3</span></span>
<span><span class="co">#&gt;   name       id                                drive_resource   </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;      &lt;drv_id&gt;                          &lt;list&gt;           </span></span>
<span><span class="co">#&gt; 1 r_logo.jpg 1wFAZdmBiSRu4GShsqurxD7wIDSCZvPud &lt;named list [41]&gt;</span></span>
<span><span class="co">#&gt; 2 THANKS     19URV7BT0_E1KhYdfDODszK5aiELOwTSz &lt;named list [40]&gt;</span></span></code></pre></div>
<p>You generally want to store the result of a googledrive call, as we do with <code>files</code> above. <code>files</code> is a dribble with info on several files and can be used as the input for downstream calls. It can also be manipulated as a regular data frame at any point.</p>
<div class="section level4">
<h4 id="identify-files">Identify files<a class="anchor" aria-label="anchor" href="#identify-files"></a>
</h4>
<p><code><a href="reference/drive_find.html">drive_find()</a></code> searches by file properties, but you can also identify files by name (path, really) or by Drive file id using <code><a href="reference/drive_get.html">drive_get()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/drive_get.html">drive_get</a></span><span class="op">(</span><span class="st">"~/abc/def/googledrive-NEWS.md"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✓ The input `path` resolved to exactly 1 file.</span></span>
<span><span class="co">#&gt; # A dribble: 1 × 4</span></span>
<span><span class="co">#&gt;   name                path                          id            drive_resource</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;               &lt;chr&gt;                         &lt;drv_id&gt;      &lt;list&gt;        </span></span>
<span><span class="co">#&gt; 1 googledrive-NEWS.md ~/abc/def/googledrive-NEWS.md 1h1lhFfQrDZe… &lt;named list […</span></span></code></pre></div>
<p><code><a href="reference/drive_id.html">as_id()</a></code> can be used to convert various inputs into a marked vector of file ids. It works on file ids (for obvious reasons!), various forms of Drive URLs, and <code>dribble</code>s.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">$</span><span class="va">id</span></span>
<span><span class="co">#&gt; &lt;drive_id[1]&gt;</span></span>
<span><span class="co">#&gt; [1] 1h1lhFfQrDZevE2OEX10-rbi2BfvGogFm</span></span>
<span></span>
<span><span class="co"># let's retrieve same file by id (also a great way to force-refresh metadata)</span></span>
<span><span class="fu"><a href="reference/drive_get.html">drive_get</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A dribble: 1 × 3</span></span>
<span><span class="co">#&gt;   name                id                                drive_resource   </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;               &lt;drv_id&gt;                          &lt;list&gt;           </span></span>
<span><span class="co">#&gt; 1 googledrive-NEWS.md 1h1lhFfQrDZevE2OEX10-rbi2BfvGogFm &lt;named list [39]&gt;</span></span>
<span><span class="fu"><a href="reference/drive_get.html">drive_get</a></span><span class="op">(</span><span class="fu"><a href="reference/drive_id.html">as_id</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A dribble: 1 × 3</span></span>
<span><span class="co">#&gt;   name                id                                drive_resource   </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;               &lt;drv_id&gt;                          &lt;list&gt;           </span></span>
<span><span class="co">#&gt; 1 googledrive-NEWS.md 1h1lhFfQrDZevE2OEX10-rbi2BfvGogFm &lt;named list [39]&gt;</span></span></code></pre></div>
<p>In general, googledrive functions that operate on files allow you to specify the file(s) by name/path, file id, or in a <code>dribble</code>. If it’s ambiguous, use <code><a href="reference/drive_id.html">as_id()</a></code> to mark a character vector as holding Drive file ids as opposed to file paths. This function can also extract file ids from various URLs.</p>
</div>
<div class="section level4">
<h4 id="upload-files">Upload files<a class="anchor" aria-label="anchor" href="#upload-files"></a>
</h4>
<p>We can upload any file type.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">chicken</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/drive_upload.html">drive_upload</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="reference/drive_examples.html">drive_example_local</a></span><span class="op">(</span><span class="st">"chicken.csv"</span><span class="op">)</span>,</span>
<span>  <span class="st">"index-chicken.csv"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Local file:</span></span>
<span><span class="co">#&gt; • '/private/tmp/RtmpIm6bTU/temp_libpath68f2f2fb7a9/googledrive/extdata/example_files/chicken.csv'</span></span>
<span><span class="co">#&gt; Uploaded into Drive file:</span></span>
<span><span class="co">#&gt; • 'index-chicken.csv' &lt;id: 14y8vNq9VXYuOuoHsexumu4y73hqBP_RB&gt;</span></span>
<span><span class="co">#&gt; With MIME type:</span></span>
<span><span class="co">#&gt; • 'text/csv'</span></span>
<span><span class="co">#&gt; # A dribble: 1 × 3</span></span>
<span><span class="co">#&gt;   name              id                                drive_resource   </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;             &lt;drv_id&gt;                          &lt;list&gt;           </span></span>
<span><span class="co">#&gt; 1 index-chicken.csv 14y8vNq9VXYuOuoHsexumu4y73hqBP_RB &lt;named list [39]&gt;</span></span></code></pre></div>
<p>Notice that file was uploaded as <code>text/csv</code>. Since this was a <code>.csv</code> document, and we didn’t specify the type, googledrive guessed the MIME type. We can overrule this by using the <code>type</code> parameter to upload as a Google Spreadsheet. Let’s delete this file first.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/drive_rm.html">drive_rm</a></span><span class="op">(</span><span class="va">chicken</span><span class="op">)</span></span>
<span><span class="co">#&gt; File deleted:</span></span>
<span><span class="co">#&gt; • 'index-chicken.csv' &lt;id: 14y8vNq9VXYuOuoHsexumu4y73hqBP_RB&gt;</span></span>
<span></span>
<span><span class="co"># example of using a dribble as input</span></span>
<span><span class="va">chicken_sheet</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/drive_examples.html">drive_example_local</a></span><span class="op">(</span><span class="st">"chicken.csv"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/drive_upload.html">drive_upload</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"index-chicken-sheet"</span>,</span>
<span>    type <span class="op">=</span> <span class="st">"spreadsheet"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Local file:</span></span>
<span><span class="co">#&gt; • '/private/tmp/RtmpIm6bTU/temp_libpath68f2f2fb7a9/googledrive/extdata/example_files/chicken.csv'</span></span>
<span><span class="co">#&gt; Uploaded into Drive file:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet' &lt;id: 17oaVZ09fbpjdV-KMUdcguAD8i1hKeSjNZnq_fbR4iiw&gt;</span></span>
<span><span class="co">#&gt; With MIME type:</span></span>
<span><span class="co">#&gt; • 'application/vnd.google-apps.spreadsheet'</span></span></code></pre></div>
<p>Much better!</p>
</div>
<div class="section level4">
<h4 id="share-files">Share files<a class="anchor" aria-label="anchor" href="#share-files"></a>
</h4>
<p>To allow other people to access your file, you need to change the sharing permissions. You can check the sharing status by running <code>drive_reveal(..., "permissions")</code>, which adds a logical column <code>shared</code> and parks more detailed metadata in a <code>permissions_resource</code> variable.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chicken_sheet</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/drive_reveal.html">drive_reveal</a></span><span class="op">(</span><span class="st">"permissions"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A dribble: 1 × 5</span></span>
<span><span class="co">#&gt;   name                shared id                drive_resource  permissions_reso…</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;               &lt;lgl&gt;  &lt;drv_id&gt;          &lt;list&gt;          &lt;list&gt;           </span></span>
<span><span class="co">#&gt; 1 index-chicken-sheet FALSE  17oaVZ09fbpjdV-K… &lt;named list [3… &lt;named list [2]&gt;</span></span></code></pre></div>
<p>Here’s how to grant anyone with the link permission to view this data set.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">chicken_sheet</span> <span class="op">&lt;-</span> <span class="va">chicken_sheet</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>   <span class="fu"><a href="reference/drive_share.html">drive_share</a></span><span class="op">(</span>role <span class="op">=</span> <span class="st">"reader"</span>, type <span class="op">=</span> <span class="st">"anyone"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Permissions updated:</span></span>
<span><span class="co">#&gt; • role = reader</span></span>
<span><span class="co">#&gt; • type = anyone</span></span>
<span><span class="co">#&gt; For file:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet' &lt;id: 17oaVZ09fbpjdV-KMUdcguAD8i1hKeSjNZnq_fbR4iiw&gt;</span></span>
<span><span class="co">#&gt; # A dribble: 1 × 5</span></span>
<span><span class="co">#&gt;   name                shared id                drive_resource  permissions_reso…</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;               &lt;lgl&gt;  &lt;drv_id&gt;          &lt;list&gt;          &lt;list&gt;           </span></span>
<span><span class="co">#&gt; 1 index-chicken-sheet TRUE   17oaVZ09fbpjdV-K… &lt;named list [3… &lt;named list [2]&gt;</span></span></code></pre></div>
<p>This comes up so often, there’s even a convenience wrapper, <code><a href="reference/drive_share.html">drive_share_anyone()</a></code>.</p>
</div>
<div class="section level4">
<h4 id="publish-files">Publish files<a class="anchor" aria-label="anchor" href="#publish-files"></a>
</h4>
<p>Versions of Google Documents, Sheets, and Presentations can be published online. You can check your publication status by running <code>drive_reveal(..., "published")</code>, which adds a logical column <code>published</code> and parks more detailed metadata in a <code>revision_resource</code> variable.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chicken_sheet</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/drive_reveal.html">drive_reveal</a></span><span class="op">(</span><span class="st">"published"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A dribble: 1 × 7</span></span>
<span><span class="co">#&gt;   name   published shared id    drive_resource permissions_res… revision_resour…</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;lgl&gt;     &lt;lgl&gt;  &lt;drv&gt; &lt;list&gt;         &lt;list&gt;           &lt;list&gt;          </span></span>
<span><span class="co">#&gt; 1 index… FALSE     TRUE   17oa… &lt;named list [… &lt;named list [2]&gt; &lt;named list [7]&gt;</span></span></code></pre></div>
<p>By default, <code><a href="reference/drive_publish.html">drive_publish()</a></code> will publish your most recent version.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">chicken_sheet</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/drive_publish.html">drive_publish</a></span><span class="op">(</span><span class="va">chicken_sheet</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; File now published:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet' &lt;id: 17oaVZ09fbpjdV-KMUdcguAD8i1hKeSjNZnq_fbR4iiw&gt;</span></span>
<span><span class="co">#&gt; # A dribble: 1 × 7</span></span>
<span><span class="co">#&gt;   name   published shared id    drive_resource permissions_res… revision_resour…</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;lgl&gt;     &lt;lgl&gt;  &lt;drv&gt; &lt;list&gt;         &lt;list&gt;           &lt;list&gt;          </span></span>
<span><span class="co">#&gt; 1 index… TRUE      TRUE   17oa… &lt;named list [… &lt;named list [2]&gt; &lt;named list [9]&gt;</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="download-files">Download files<a class="anchor" aria-label="anchor" href="#download-files"></a>
</h4>
<div class="section level5">
<h5 id="google-files">Google files<a class="anchor" aria-label="anchor" href="#google-files"></a>
</h5>
<p>We can download files from Google Drive. Native Google file types (such as Google Documents, Google Sheets, Google Slides, etc.) need to be exported to some conventional file type. There are reasonable defaults or you can specify this explicitly via <code>type</code> or implicitly via the file extension in <code>path</code>. For example, if I would like to download the “chicken_sheet” Google Sheet as a <code>.csv</code> I could run the following.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/drive_download.html">drive_download</a></span><span class="op">(</span><span class="st">"index-chicken-sheet"</span>, type <span class="op">=</span> <span class="st">"csv"</span><span class="op">)</span></span>
<span><span class="co">#&gt; File downloaded:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet' &lt;id: 17oaVZ09fbpjdV-KMUdcguAD8i1hKeSjNZnq_fbR4iiw&gt;</span></span>
<span><span class="co">#&gt; Saved locally as:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet.csv'</span></span></code></pre></div>
<p>Alternatively, I could specify type via the <code>path</code> parameter.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/drive_download.html">drive_download</a></span><span class="op">(</span></span>
<span>  <span class="st">"index-chicken-sheet"</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"index-chicken-sheet.csv"</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; File downloaded:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet' &lt;id: 17oaVZ09fbpjdV-KMUdcguAD8i1hKeSjNZnq_fbR4iiw&gt;</span></span>
<span><span class="co">#&gt; Saved locally as:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet.csv'</span></span></code></pre></div>
<p>Notice in the example above, I specified <code>overwrite = TRUE</code>, in order to overwrite the local csv file previously saved.</p>
<p>Finally, you could just allow export to the default type. In the case of Google Sheets, this is an Excel workbook:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/drive_download.html">drive_download</a></span><span class="op">(</span><span class="st">"index-chicken-sheet"</span><span class="op">)</span></span>
<span><span class="co">#&gt; File downloaded:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet' &lt;id: 17oaVZ09fbpjdV-KMUdcguAD8i1hKeSjNZnq_fbR4iiw&gt;</span></span>
<span><span class="co">#&gt; Saved locally as:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet.xlsx'</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="all-other-files">All other files<a class="anchor" aria-label="anchor" href="#all-other-files"></a>
</h5>
<p>Downloading files that are <em>not</em> Google type files is even simpler, i.e. it does not require any conversion or type info.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># download it and prove we got it</span></span>
<span><span class="fu"><a href="reference/drive_download.html">drive_download</a></span><span class="op">(</span><span class="st">"chicken.txt"</span><span class="op">)</span></span>
<span><span class="co">#&gt; File downloaded:</span></span>
<span><span class="co">#&gt; • 'chicken.txt' &lt;id: 1xMvlJHia_qYNZmucaStDcOF9A9PD4BOT&gt;</span></span>
<span><span class="co">#&gt; Saved locally as:</span></span>
<span><span class="co">#&gt; • 'chicken.txt'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="st">"chicken.txt"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "A chicken whose name was Chantecler"      </span></span>
<span><span class="co">#&gt; [2] "Clucked in iambic pentameter"             </span></span>
<span><span class="co">#&gt; [3] "It sat on a shelf, reading Song of Myself"</span></span>
<span><span class="co">#&gt; [4] "And laid eggs with a perfect diameter."   </span></span>
<span><span class="co">#&gt; [5] ""                                         </span></span>
<span><span class="co">#&gt; [6] "—Richard Maxson"</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="clean-up">Clean up<a class="anchor" aria-label="anchor" href="#clean-up"></a>
</h4>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"index-chicken-sheet.csv"</span>, <span class="st">"index-chicken-sheet.xlsx"</span>, <span class="st">"chicken.txt"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE TRUE TRUE</span></span>
<span><span class="fu"><a href="reference/drive_find.html">drive_find</a></span><span class="op">(</span><span class="st">"index-chicken"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/drive_rm.html">drive_rm</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; File deleted:</span></span>
<span><span class="co">#&gt; • 'index-chicken-sheet' &lt;id: 17oaVZ09fbpjdV-KMUdcguAD8i1hKeSjNZnq_fbR4iiw&gt;</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="privacy">Privacy<a class="anchor" aria-label="anchor" href="#privacy"></a>
</h2>
<p><a href="https://www.tidyverse.org/google_privacy_policy" class="external-link">Privacy policy</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=googledrive" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/tidyverse/googledrive/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/tidyverse/googledrive/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
<li><a href="SUPPORT.html">Getting help</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing googledrive</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Lucy D'Agostino McGowan <br><small class="roles"> Author </small>  </li>
<li>
<a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6983-2759" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a> <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=googledrive" class="external-link"><img src="https://www.r-pkg.org/badges/version/googledrive" alt="CRAN status"></a></li>
<li><a href="https://github.com/tidyverse/googledrive/actions" class="external-link"><img src="https://github.com/tidyverse/googledrive/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/tidyverse/googledrive?branch=main" class="external-link"><img src="https://codecov.io/gh/tidyverse/googledrive/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Lucy D’Agostino McGowan, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

  </div></footer>
</body>
</html>
