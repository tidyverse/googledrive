<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Messages and errors in googledrive • googledrive</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Messages and errors in googledrive">
<meta name="robots" content="noindex">
<script defer data-domain="googledrive.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">googledrive</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/googledrive.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/file-identification.html">File Identification</a></li>
    <li><a class="dropdown-item" href="../articles/multiple-files.html">Dealing with multiple files</a></li>
    <li><a class="dropdown-item" href="../articles/permissions.html">File permissions</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Package configuration</h6></li>
    <li><a class="dropdown-item" href="../articles/bring-your-own-client.html">Bring your own OAuth client or API key</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2021/07/googledrive-2-0-0/">Version 2.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2019/08/googledrive-1-0-0/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/googledrive/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Messages and errors in googledrive</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/googledrive/blob/main/vignettes/articles/messages-and-errors.Rmd" class="external-link"><code>vignettes/articles/messages-and-errors.Rmd</code></a></small>
      <div class="d-none name"><code>messages-and-errors.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://googledrive.tidyverse.org">googledrive</a></span><span class="op">)</span></span></code></pre></div>
<p><em>Things I do in a hidden chunk here, to aid exposition about
internal tooling:</em></p>
<ul>
<li><em>“Export” the internal helpers covered below</em></li>
<li><em>(Attempt to) auth as the service account we use when rendering
documentation</em></li>
</ul>
<div class="section level2">
<h2 id="user-facing-messages">User-facing messages<a class="anchor" aria-label="anchor" href="#user-facing-messages"></a>
</h2>
<p>Everything should be emitted by helpers in <code>utils-ui.R</code>:
specifically, <code>drive_bullets()</code> (and, for errors,
<code>drive_abort()</code>). These helpers are all wrappers around cli
functions, such as <code><a href="https://cli.r-lib.org/reference/cli_bullets.html" class="external-link">cli::cli_bullets()</a></code>.</p>
<p><em>These may not demo well via pkgdown, but the interactive
experience is nice.</em></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        <span class="st">"noindent"</span>,</span>
<span>  <span class="st">" "</span> <span class="op">=</span> <span class="st">"indent"</span>,</span>
<span>  <span class="st">"*"</span> <span class="op">=</span> <span class="st">"bullet"</span>,</span>
<span>  <span class="st">"&gt;"</span> <span class="op">=</span> <span class="st">"arrow"</span>,</span>
<span>  <span class="st">"v"</span> <span class="op">=</span> <span class="st">"success"</span>,</span>
<span>  <span class="st">"x"</span> <span class="op">=</span> <span class="st">"danger"</span>,</span>
<span>  <span class="st">"!"</span> <span class="op">=</span> <span class="st">"warning"</span>,</span>
<span>  <span class="st">"i"</span> <span class="op">=</span> <span class="st">"info"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; noindent</span></span>
<span><span class="co">#&gt;   indent</span></span>
<span><span class="co">#&gt; • bullet</span></span>
<span><span class="co">#&gt; → arrow</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> success</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> danger</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> warning</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> info</span></span></code></pre></div>
<p>The helpers encourage consistent styling and make it possible to
selectively silence messages coming from googledrive. The googledrive
message helpers:</p>
<ul>
<li><p>Use the <a href="https://cli.r-lib.org/index.html" class="external-link">cli
package</a> to get interpolation, inline markup, and
pluralization.</p></li>
<li><p>Eventually route through <code><a href="https://rlang.r-lib.org/reference/abort.html" class="external-link">rlang::inform()</a></code>, which is
important because <code>inform()</code> prints to standard output in
interactive sessions. This means that informational messages won’t have
the same “look” as errors and can generally be more stylish, at least in
IDEs like RStudio.</p></li>
<li>
<p>Use some googledrive-wide style choices, such as:</p>
<ul>
<li>The custom <code>.drivepath</code> style is like cli’s inline
<code>.file</code> style, except cyan instead of blue.</li>
<li>The built-in <code>.field</code> style is tweaked to be flanked by
single quotes in a no-color situation.</li>
<li>The typical “*” bullet isn’t colored, since we’ve got so much other
color going on.</li>
</ul>
</li>
<li><p>Are under the control of the <code>googledrive_quiet</code>
option. If it’s unset, the default is to show messages (unless we’re
testing, i.e. the environment variable <code>TESTTHAT</code> is
<code>"true"</code>). Doing
<code>options(googledrive_quiet = TRUE)</code> will suppress messages.
There are withr-style convenience helpers:
<code><a href="../reference/googledrive-configuration.html">local_drive_quiet()</a></code> and
<code><a href="../reference/googledrive-configuration.html">with_drive_quiet()</a></code>.</p></li>
</ul>
<div class="section level3">
<h3 id="inline-styling">Inline styling<a class="anchor" aria-label="anchor" href="#inline-styling"></a>
</h3>
<p>How we use the inline classes:</p>
<ul>
<li>
<code>.drivepath</code> for the name or, occasionally, the (partial)
path of a Drive file</li>
<li>
<code>.field</code> for the value of an argument, e.g. a MIME
type</li>
<li>
<code>.code</code> for a column in a data frame and for reserved
words, such as <code>NULL</code>, <code>TRUE</code>, and
<code>NA</code>
</li>
<li>
<code>.arg</code>, <code>.fun</code>, <code>.path</code>,
<code>.cls</code>, <code>.url</code> for their usual purpose</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"We need to talk about the {.arg foofy} argument to {.fun blarg}"</span>,</span>
<span>  <span class="st">"You provided {.field a_very_weird_value} and I suspect you're confused \\</span></span>
<span><span class="st">   about something"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; We need to talk about the `foofy` argument to `blarg()`</span></span>
<span><span class="co">#&gt; You provided <span style="color: #00BB00;">a_very_weird_value</span> and I suspect you're confused about</span></span>
<span><span class="co">#&gt; something</span></span></code></pre></div>
<p>Most relevant cli docs:</p>
<ul>
<li><a href="https://cli.r-lib.org/reference/inline-markup.html" class="external-link">CLI
inline markup</a></li>
<li><a href="https://cli.r-lib.org/articles/semantic-cli.html" class="external-link">Building
a Semantic CLI</a></li>
</ul>
</div>
<div class="section level3">
<h3 id="bullets">Bullets<a class="anchor" aria-label="anchor" href="#bullets"></a>
</h3>
<p>I use the different bullet points in <code>drive_bullets()</code> to
convey a mood.</p>
<p>Exclamation mark <code>"!"</code>: I’m not throwing an error or
warning, but I want to get the user’s attention, because it seems likely
(but not certain) that they misunderstand something about googledrive or
Google Drive or their Drive files. Examples:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"!"</span> <span class="op">=</span> <span class="st">"Ignoring {.arg type}. Only consulted for native Google file types."</span>,</span>
<span>  <span class="st">" "</span> <span class="op">=</span> <span class="st">"MIME type of {.arg file}: {.field mime_type}."</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Ignoring `type`. Only consulted for native Google file types.</span></span>
<span><span class="co">#&gt;   MIME type of `file`: <span style="color: #00BB00;">mime_type</span>.</span></span>
<span></span>
<span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"!"</span> <span class="op">=</span> <span class="st">"Currently only fields for the {.field files} resource can be \\</span></span>
<span><span class="st">         checked for validity."</span>,</span>
<span>  <span class="st">" "</span> <span class="op">=</span> <span class="st">"Nothing done."</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Currently only fields for the <span style="color: #00BB00;">files</span> resource can be checked for</span></span>
<span><span class="co">#&gt;   validity.</span></span>
<span><span class="co">#&gt;   Nothing done.</span></span>
<span></span>
<span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"!"</span> <span class="op">=</span> <span class="st">"No updates specified."</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> No updates specified.</span></span>
<span></span>
<span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"!"</span> <span class="op">=</span> <span class="st">"No such file to delete."</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> No such file to delete.</span></span></code></pre></div>
<p>Information “i”: I’m just keeping you informed of how my work is
going.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"i"</span> <span class="op">=</span> <span class="st">"No pre-existing file at this filepath. Calling \\</span></span>
<span><span class="st">         {.fun drive_upload}."</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> No pre-existing file at this filepath. Calling `drive_upload()`.</span></span>
<span></span>
<span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"i"</span> <span class="op">=</span> <span class="st">"Pre-existing file at this filepath. Calling \\</span></span>
<span><span class="st">         {.fun drive_update}."</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Pre-existing file at this filepath. Calling `drive_update()`.</span></span>
<span></span>
<span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"i"</span> <span class="op">=</span> <span class="st">"Not logged in as any specific Google user."</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Not logged in as any specific Google user.</span></span></code></pre></div>
<p>In cases where we determine there is nothing we can or should do,
sometimes I use <code>"!"</code> and sometimes I use <code>"i"</code>.
It depends on whether it feels like the user could or should have known
that no work would be possible or needed.</p>
</div>
<div class="section level3">
<h3 id="programmatic-generation-of-bullets">Programmatic generation of bullets<a class="anchor" aria-label="anchor" href="#programmatic-generation-of-bullets"></a>
</h3>
<p>Often we need to create bullets from an R object, such as a character
vector or a dribble. What needs to happen:</p>
<ul>
<li>Map a cli-using string template over the object to get a character
vector</li>
<li>Truncate this vector in an aesthetically pleasing way</li>
<li>Apply names to this vector to get the desired bullet points</li>
</ul>
<p><code>gargle_map_cli()</code> is a new generic in gargle that turns
an object into a vector of strings with cli markup. Currently gargle
exports methods for <code>character</code> (and <code>NULL</code> and a
<code>default</code>) and googlesheets4 defines a method for
<code>dribble</code>. This is likely to be replaced by something in cli
itself in due course.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gargle_map_cli</span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "{.field a}" "{.field b}" "{.field c}"</span></span></code></pre></div>
<p>By default <code>gargle_map_cli.character()</code> just applies the
<code>.field</code> style, i.e. the template is
<code>"{.field &lt;&lt;x&gt;&gt;}"</code>. But the template can be
customized, if you need something else. Note that we use non-standard
glue delimiters (<code>&lt;&lt;</code> and <code>&gt;&gt;</code>, by
default), because we are interpolating into a string with glue/cli
markup, where <code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code> has the usual meaning.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gargle_map_cli</span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>, template <span class="op">=</span> <span class="st">"how about a path {.path &lt;&lt;x&gt;&gt;}?"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "how about a path {.path d}?" "how about a path {.path e}?"</span></span>
<span><span class="co">#&gt; [3] "how about a path {.path f}?"</span></span></code></pre></div>
<p>The <code>gargle_map_cli.dribble()</code> method makes a cli-marked
up string for each row of the dribble, i.e. for each Drive file.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/drive_find.html">drive_find</a></span><span class="op">(</span>n_max <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu">gargle_map_cli</span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "{.drivepath name-squatter-mv} {cli::col_grey('&lt;id: 1YbZrx7MtoV0osKh-bBCXiFFPsdtRdPx7&gt;')}"      </span></span>
<span><span class="co">#&gt; [2] "{.drivepath chicken-mv-renamed.txt} {cli::col_grey('&lt;id: 11KWbI2vVh56NEyprNKLGPpPc6dwbiUrb&gt;')}"</span></span>
<span><span class="co">#&gt; [3] "{.drivepath name-squatter-mv} {cli::col_grey('&lt;id: 1XAKuV2VB-_De_Ukl26ylL0TTcQ1uNrNq&gt;')}"      </span></span>
<span><span class="co">#&gt; [4] "{.drivepath chicken-mv-renamed.txt} {cli::col_grey('&lt;id: 1c7ZfMwIW6FiRX8ShW_6rKUx1uD_E62hH&gt;')}"</span></span>
<span><span class="co">#&gt; [5] "{.drivepath name-squatter-mv} {cli::col_grey('&lt;id: 1p99_z4lnpehxbUILJmADoGjHxZc-H9Wu&gt;')}"</span></span></code></pre></div>
<p><code>gargle_map_cli.dribble()</code> also allows a custom template,
but it’s a more complicated and less common situation than for
<code>character</code>. We won’t get into that here. (I don’t consider
the dribble styling to be finalized yet.)</p>
<p>The result of <code>gargle_map_cli()</code> then gets processed with
<code><a href="https://gargle.r-lib.org/reference/bulletize.html" class="external-link">gargle::bulletize()</a></code>, which adds the bullet-specifying names
and does aesthetically pleasing truncation.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bulletize</span><span class="op">(</span><span class="fu">gargle_map_cli</span><span class="op">(</span><span class="va">letters</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;               *               *               *               * </span></span>
<span><span class="co">#&gt;    "{.field a}"    "{.field b}"    "{.field c}"    "{.field d}" </span></span>
<span><span class="co">#&gt;               *                 </span></span>
<span><span class="co">#&gt;    "{.field e}" "… and 21 more"</span></span>
<span></span>
<span><span class="fu">bulletize</span><span class="op">(</span><span class="fu">gargle_map_cli</span><span class="op">(</span><span class="va">letters</span><span class="op">)</span>, bullet <span class="op">=</span> <span class="st">"x"</span>, n_show <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;               x               x                 </span></span>
<span><span class="co">#&gt;    "{.field a}"    "{.field b}" "… and 24 more"</span></span>
<span></span>
<span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"These are surprising things:"</span>,</span>
<span>  <span class="fu">bulletize</span><span class="op">(</span><span class="fu">gargle_map_cli</span><span class="op">(</span><span class="va">letters</span><span class="op">)</span>, bullet <span class="op">=</span> <span class="st">"!"</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; These are surprising things:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> <span style="color: #00BB00;">a</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> <span style="color: #00BB00;">b</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> <span style="color: #00BB00;">c</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> <span style="color: #00BB00;">d</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> <span style="color: #00BB00;">e</span></span></span>
<span><span class="co">#&gt;   … and 21 more</span></span>
<span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/drive_find.html">drive_find</a></span><span class="op">(</span>n_max <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">drive_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Some Drive files:"</span>,</span>
<span>  <span class="fu">bulletize</span><span class="op">(</span><span class="fu">gargle_map_cli</span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Some Drive files:</span></span>
<span><span class="co">#&gt; • <span style="color: #00BBBB;">name-squatter-mv</span> <span style="color: #555555;">&lt;id: 1YbZrx7MtoV0osKh-bBCXiFFPsdtRdPx7&gt;</span></span></span>
<span><span class="co">#&gt; • <span style="color: #00BBBB;">chicken-mv-renamed.txt</span> <span style="color: #555555;">&lt;id: 11KWbI2vVh56NEyprNKLGPpPc6dwbiUrb&gt;</span></span></span>
<span><span class="co">#&gt; • <span style="color: #00BBBB;">name-squatter-mv</span> <span style="color: #555555;">&lt;id: 1XAKuV2VB-_De_Ukl26ylL0TTcQ1uNrNq&gt;</span></span></span>
<span><span class="co">#&gt; • <span style="color: #00BBBB;">chicken-mv-renamed.txt</span> <span style="color: #555555;">&lt;id: 1c7ZfMwIW6FiRX8ShW_6rKUx1uD_E62hH&gt;</span></span></span>
<span><span class="co">#&gt; • <span style="color: #00BBBB;">name-squatter-mv</span> <span style="color: #555555;">&lt;id: 1p99_z4lnpehxbUILJmADoGjHxZc-H9Wu&gt;</span></span></span>
<span><span class="co">#&gt;   … and 5 more</span></span></code></pre></div>
<p>It’s conceivable that cli will gain a better way of vectorization,
but this works for now.</p>
<p>Known dysfunction: it’s inefficient to <code>gargle_map_cli()</code>
over the whole object, then truncate with <code>bulletize()</code>. But
it’s easy. There are contexts, like tibble printing, where formatting
stuff that will never see the light of day is really punishing. But I’m
not sure I really have to worry about that.</p>
</div>
</div>
<div class="section level2">
<h2 id="errors">Errors<a class="anchor" aria-label="anchor" href="#errors"></a>
</h2>
<p>I am currently using <code><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli::cli_abort()</a></code>, which is present
in the dev version of cli (as of late May 2021, cli version
2.5.0.9000).</p>
<p>It’s wrapped as <code>drive_abort()</code>, for the same reason as
<code>drive_bullets()</code>, namely to apply some package-wide style
tweaks.</p>
<p>The mechanics of <code>drive_abort()</code> usage are basically the
same as <code>drive_bullets()</code>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by Lucy D’Agostino McGowan, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer>
</body>
</html>
